<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/general.css">

    <link rel="icon" href="images/logo.png">

    <title>Listastick</title>
  </head>
  <body onunload="Storage.storeTodos(todosArr)" onload="initialLoad()">
    <nav id="desktopNavBar">
      <div id="navBarDesktopButtons">
        <img id="addTaskMain" class="navDeskIcon" src="icons/circlePlusIcon.svg" alt="">
        <img class="navDeskIcon" src="icons/homeIcon.svg" alt="">
        <a href="stats.html"><img class="navDeskIcon" src="icons/statsIcon.svg" alt=""></a>
      </div>
      <div style="text-align: center;">
        <a href=""><img id="pfp" src="images/pfp.png" alt=""></a>
      </div>
    </nav>

    <div id="initialLoadDiv" class="d-none">
      <lord-icon
        src="https://cdn.lordicon.com/dpinvufc.json"
        trigger="loop"
        colors="primary:#1095e0,secondary:#08a88a"
        style="width:150px;height:150px">
      </lord-icon>
    </div>


    <div class="mainContainer">
        <div class="container">
          <div id="searchBar">
            <input id="searchInput" type="text" onkeyup="applySearchFilter()">
            <button id="searchBtn" class="btn" onclick="applySearchFilter()">Buscar</button>
          </div>
          <div id="categories">
            <button id="generalTodosBtn" class="selectionBtn activeSelBtn" onclick="initialLoad(), changeActiveSel()">Todos</button>
            <button id="myDayBtn" class="selectionBtn" onclick="filterMyDay()">My Day</button>
            <button id="hideCompletedBtn" class="selectionBtn" onclick="hideCompleted()">Hide Completed</button>
          </div>
          
         
          <div id="taskSection">
            
            
          </div>

          <div id="addTaskContainer">
            <img id="closeAddTask" src="icons/crossIcon.svg" alt="">
            <label for="taskTitleInput">Task title</label>
            <input type="text" name="taskTitleInput" id="taskTitleInput">
            <label for="taskListInput">List</label>
            <input type="text" name="taskListInput" id="taskListInput">

            <div class="smallInput">
              <div class="smallInputDiv">
                <label for="taskPriorityInput">Priority</label>
                <input list="priorities" name="taskPriorityInput" id="taskPriorityInput">
                <datalist id="priorities">
                  <option value="High">
                  <option value="Medium">
                  <option value="Low">
                </datalist>
              </div>
              <div class="smallInputDiv">
                <label for="taskDeadlineInput">Deadline</label>
                <input type="date" name="taskDeadlineInput" id="taskDeadlineInput">
              </div>
            </div>

            <label for="taskDescInput">Description</label>
            <textarea name="taskDescInput" id="taskDescInput"></textarea>

            <div id="taskAddBtnSec">
              <button id="saveTaskBtn" class="btn btn-success">Add Task</button>
            </div>
          </div>

        </div>        

    </div>

    <template id="expandedTaskTemplate">
        <div class="expandedTodoCardDiv">
          <img id="backIcon" src="icons/backIcon.svg" alt="">
          <div class="expandedTaskBkg">
            <img id="saveChangesIcon" src="icons/saveChangesIcon.svg" alt="">
            <div class="backAndTitle">
              <h1 contentEditable="true" id="taskTitleExpanded"></h1>
            </div>
            <div class="backAndTitle">
              <p class="expandedSubTitle">List:</p>
              <p contentEditable="true" id="taskList" class="taskDivText"></p>
            </div>
            <div class="backAndTitle">
              <p class="expandedSubTitle">Priority:</p>
              <p contentEditable="true" id="taskPriority" class="taskDivText"></p>
            </div>
            <div class="backAndTitle">
              <p class="expandedSubTitle">Deadline:</p>
              <p contentEditable="true"  id="taskDeadline" class="taskDivText"></p>
            </div>
            <p contentEditable="true" id="taskDescriptionExpanded"></p>
            <div id="expandedTaskDivBtns">
              <button class="btn btn-success">Mark as completed</button>
              <button class="btn btn-danger">Delete task</button>
            </div>
          </div>
        </div>
    </template>

    <template id="taskCardTemplate">
      <div class="taskCard shadow">
        <div class="importanceIndicator"><img src="icons/logoBlue.svg" alt=""></div>
        <img class="trashCardIcon d-none" src="icons/trashIcon.svg" alt="">
        <h1 class="taskTitle"></h1>
        <p class="taskDesc"></p>
        <div id="taskHoverDiv" class="d-none">
          <img class="taskHoverBtn changeStatus" src="icons/logoIcon.svg" alt="">
          <img class="taskHoverBtn viewTodo" src="icons/seeMoreIcon.svg" alt="">
        </div>
      </div>
    </template>

    <!-- Fakerjs -->
    <script src="https://cdn.jsdelivr.net/npm/faker@5.5.3/dist/faker.min.js" integrity="sha256-ItysnEXzZySzG3n8oL357uAk+51hKjTF4yHeZWwoQwU=" crossorigin="anonymous"></script>
 
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.4.1/dist/chart.min.js" integrity="sha256-GMN9UIJeUeOsn/Uq4xDheGItEeSpI5Hcfp/63GclDZk=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    <script src="scripts/script.js"></script>
    <script src="https://cdn.lordicon.com/libs/frhvbuzj/lord-icon-2.0.2.js"></script>
    
  </body>
</html>